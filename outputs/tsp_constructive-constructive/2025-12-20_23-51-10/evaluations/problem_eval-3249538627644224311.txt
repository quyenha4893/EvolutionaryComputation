def select_next_node(current_node, destination_node, unvisited_nodes, distance_matrix):
    if not unvisited_nodes:
        return destination_node

    if len(unvisited_nodes) == 1:
        return list(unvisited_nodes)[0]

    min_total_heuristic_score = float('inf')
    next_node = -1

    for candidate_node in unvisited_nodes:
        cost_to_candidate = distance_matrix[current_node][candidate_node]
        
        future_cost_component = 0.0
        remaining_nodes_after_candidate = unvisited_nodes - {candidate_node}
        
        if not remaining_nodes_after_candidate:
            future_cost_component = distance_matrix[candidate_node][destination_node]
        else:
            sum_distances_from_candidate_to_future = 0
            count_future_nodes = 0
            
            for future_node in remaining_nodes_after_candidate:
                sum_distances_from_candidate_to_future += distance_matrix[candidate_node][future_node]
                count_future_nodes += 1
            
            if count_future_nodes > 0:
                future_cost_component = sum_distances_from_candidate_to_future / count_future_nodes
            else:
                future_cost_component = float('inf')
        
        total_heuristic_score = cost_to_candidate + future_cost_component
        
        if total_heuristic_score < min_total_heuristic_score:
            min_total_heuristic_score = total_heuristic_score
            next_node = candidate_node
            
    return next_node
