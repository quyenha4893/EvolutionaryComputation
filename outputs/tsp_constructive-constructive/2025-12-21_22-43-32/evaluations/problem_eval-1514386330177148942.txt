def select_next_node(current_node, destination_node, unvisited_nodes, distance_matrix):
    """
    Selects the next node by finding the nearest neighbor, but penalizes candidates
    that are far from the cluster of other remaining unvisited nodes.
    """
    next_node = None
    best_score = float('inf')

    # Beta is a weighting factor for the penalty. A small value ensures we
    # prioritize the nearest neighbor aspect but still consider the penalty.
    beta = 0.25

    for candidate_node in unvisited_nodes:
        # Primary metric: distance from the current node to the candidate
        dist_to_candidate = distance_matrix[current_node][candidate_node]

        # Penalty metric: average distance from the candidate to all *other* unvisited nodes.
        # This discourages moving to a node that is isolated from the rest.
        other_unvisited = unvisited_nodes - {candidate_node}
        penalty = 0
        if other_unvisited:
            total_dist_to_others = sum(distance_matrix[candidate_node][other] for other in other_unvisited)
            penalty = total_dist_to_others / len(other_unvisited)

        # The score prioritizes the nearest neighbor but is regularized by the penalty.
        score = dist_to_candidate + beta * penalty
        
        if score < best_score:
            best_score = score
            next_node = candidate_node
            
    return next_node
